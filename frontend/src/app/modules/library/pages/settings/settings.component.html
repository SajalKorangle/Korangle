<ng-container *ngIf="!isLoading">
    <form style="padding: 1rem 2rem;">

        <h5 style="margin-bottom: 0;">Maximum books Students can Issue at a time.</h5>
        <mat-form-field style="width: 240px;">
            <input 
                type="number" 
                matInput 
                min="0"
                [formControl]="maxStudentIssueCountFormControl">
            <mat-error *ngIf="maxStudentIssueCountFormControl.hasError('min') && !maxStudentIssueCountFormControl.hasError('required')">
                Count cannot be negative
            </mat-error>
            <mat-error *ngIf="maxStudentIssueCountFormControl.hasError('required')">
                Count is <strong>required</strong>
            </mat-error>
        </mat-form-field>

        <h5 style="margin-bottom: 0; margin-top: 4rem;">Maximum books Employees can Issue at a time.</h5>
        <mat-form-field style="width: 240px;">
            <input 
                type="number" 
                matInput 
                min="0"
                [formControl]="maxEmployeeIssueCountFormControl">
            <mat-error *ngIf="maxEmployeeIssueCountFormControl.hasError('min') && !maxEmployeeIssueCountFormControl.hasError('required')">
                Count cannot be negative
            </mat-error>
            <mat-error *ngIf="maxEmployeeIssueCountFormControl.hasError('required')">
                Count is <strong>required</strong>
            </mat-error>
        </mat-form-field>

        <button 
            class="btn btn-{{user.activeSchool.secondaryThemeColor}}" 
            style="display: block; margin-top: 4rem"
            [disabled]="isUpdateDisabled()"
            (click)="updateSettings()"
        >
            Update Settings
        </button>

    </form>
</ng-container>


<ng-container *ngIf="isLoading">
    <app-loading-spinner [user]="user"></app-loading-spinner>
</ng-container>