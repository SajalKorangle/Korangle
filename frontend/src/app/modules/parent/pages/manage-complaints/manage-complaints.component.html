<div *ngIf="pageName == 'list-of-complaints'" class="card-content">
    <!-- Starts: Search Bar -->
    <div class="search-bar">
        <input class="search-field" type="search" placeholder="Search by student name, message type, title" [ngModel]="seachString" (ngModelChange)="seachString = $event">
        <button class="seach-btn"><i class="material-icons search-icon">search</i></button>
    </div>
    <br />
    <br />
    <!-- Ends: Search Bar -->

    <div class="table-container">
        <div class="example-viewport">Complaints</div>
        <!-- <cdk-virtual-scroll-viewport itemSize="0" class="example-viewport"> -->
            <table class="table table-hover table-responsive">
                <thead class="text-{{ user.activeSchool.secondaryThemeColor }}">
                    <tr>
                        <!-- <th style="min-width: 150px">Child Name</th>
                        <th style="min-width: 150px">Date Sent</th>
                        <th style="min-width: 150px">Message Type</th>
                        <th style="min-width: 150px">Status</th>
                        <th style="min-width: 150px">Comments</th>
                        <th style="min-width: 100px"></th>
                        <th style="min-width: 100px"></th> -->
                        <th>Child Name</th>
                        <th>Date Sent</th>
                        <th>Complaint Type</th>
                        <th>Status</th>
                        <th>Comments</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngFor="let complaint of complaintList; let i = index">
                        <tr>
                            <td>{{ complaint.studentName }}</td>
                            <td>{{ complaint.dateSent }}</td>
                            <td>{{ complaint.complaintType }}</td>
                            <td>{{ complaint.status }}</td>
                            <td>{{ complaint.commentList.length }}</td>
                            <td (click)="pageName = 'open-complaint'" class="text-{{ user.activeSchool.secondaryThemeColor }}" style="text-decoration: underline; cursor: pointer;">Open</td>
                            <td><i class="material-icons delete-icon">delete_forever</i></td>
                        </tr>
                    </ng-container>
                    <!-- <tr>
                        <td style="min-width: 150px">John Doe</td>
                        <td style="min-width: 150px">Today</td>
                        <td style="min-width: 150px">Fee Amount</td>
                        <td style="min-width: 150px">Resolved</td>
                        <td style="min-width: 150px">10</td>
                        <td style="min-width: 100px">Open</td>
                        <td style="min-width: 100px"><i class="material-icons delete-icon">delete_forever</i></td>
                    </tr> -->
                </tbody>
            </table>
        <!-- </cdk-virtual-scroll-viewport> -->
    </div>

    <br />
    <button
        type="button"
        class="btn btn-{{ user.activeSchool.secondaryThemeColor }} send-new-btn"
        style="padding: 12px 15px; margin-left: 1rem"
        matTooltip="Send New Message"
        tooltip-position="left"
        (click)="pageName = 'send-complaint';"
    >
        <i class="material-icons">add</i> Send New
    </button>
</div>

<div *ngIf="pageName == 'open-complaint'" class="card-content">
    <div class="common-section">
        <div class="information">
            <div class="header text-{{ user.activeSchool.secondaryThemeColor }}">Parent Name:</div>
            <div>John Doe</div>
        </div>

        <div class="status-section">
            <div class="status">
                <span class="text-{{ user.activeSchool.secondaryThemeColor }}" style="margin-right: 2rem">Status: </span>
                <mat-form-field>
                    <mat-select placeholder="Resolved" style="width: 100%">
                        <mat-option>Hello</mat-option>
                        <mat-option>Hello</mat-option>
                        <mat-option>Hello</mat-option>
                        <mat-option>Hello</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <i class="material-icons delete-icon">delete_forever</i>
        </div>
    </div>

    <div class="common-section">
        <div class="information">
            <div class="header text-{{ user.activeSchool.secondaryThemeColor }}">Date Sent :</div>
            <div>Today</div>
        </div>
        <div></div>
    </div>
    <br />

    <div class="common-section">
        <div class="information">
            <div class="header text-{{ user.activeSchool.secondaryThemeColor }}">Message Type :</div>
            <div>Fee Amount</div>
        </div>
        <div></div>
    </div>
    <br />

    <div class="common-section">
        <div class="information">
            <div class="header text-{{ user.activeSchool.secondaryThemeColor }}">Student Name :</div>
            <div>Jane Dea</div>
        </div>
        <div></div>
    </div>
    <br />

    <div class="common-section">
        <div class="information">
            <div class="header text-{{ user.activeSchool.secondaryThemeColor }}">Parent Contact :</div>
            <div>99999 99999</div>
        </div>
        <div></div>
    </div>

    <div class="common-section" style="align-items: flex-end">
        <div class="information">
            <div class="header text-{{ user.activeSchool.secondaryThemeColor }}">Title :</div>
            <div>Fee Related Query for Neha Doshi in month January</div>
        </div>
        <button
            type="button"
            class="btn btn-{{ user.activeSchool.secondaryThemeColor }} refresh-btn"
            style="padding: 6px 15px"
            matTooltip="Refresh"
            tooltip-position="left"
        >
            Refresh
        </button>
    </div>
    <br />

    <div class="comment-section">
        <div class="default-text comment">
            Type your fee related query here. Kindly provide information such as month or duration of the problem, fee amount, etc in the message.
        </div>
        <div class="comment">
            <div class="name">John Doe</div>
            <div class="information">
                <div class="comment-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
                <div class="time">09:31, 09-03-21</div>
            </div>
        </div>
        <div class="comment">
            <div class="name class-dark">John Doe</div>
            <div class="information">
                <div class="comment-description class-dark">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
                <div class="time">09:31, 09-03-21</div>
            </div>
        </div>
        <div class="bottom-section">
            <input class="bottom-search-field" type="search" placeholder="Type Response/ Updates here" [ngModel]="comment" (ngModelChange)="comment = $event">
            <button
                type="button"
                class="btn btn-{{ user.activeSchool.secondaryThemeColor }} bottom-seach-btn"
                style="padding: 12px 15px"
                matTooltip="Send Comment"
                tooltip-position="left"
            >
                Send
            </button>
        </div>
    </div>

    <button
        type="button"
        class="btn btn-{{ user.activeSchool.secondaryThemeColor }} notify-btn"
        style="padding: 12px 15px; margin-top: 3rem;"
        matTooltip="Renotify"
        tooltip-position="left"
    >
        Renotify
    </button>
</div>

<div *ngIf="pageName == 'send-complaint'" class="card-content">
    <div class="send-new-common-section">
        <span class="text-{{ user.activeSchool.secondaryThemeColor }} send-new-header"> Select Complaint type : </span>
        <mat-form-field>
            <mat-select placeholder="{{ complaintType }}" style="width: 100%">
                <mat-option (click)="complaintType = 'Fee Amount'">Fee Amount</mat-option>
                <mat-option (click)="complaintType = 'Vehicle'">Vehicle</mat-option>
            </mat-select>
        </mat-form-field>
    </div>

    <div class="send-new-common-section">
        <span class="text-{{ user.activeSchool.secondaryThemeColor }} send-new-header"> Select student name : </span>
        <mat-form-field>
            <mat-select placeholder="{{ complaintStudentName }}" style="width: 100%">
                <ng-container *ngFor="let student of user.activeSchool.studentList">
                    <mat-option (click)="complaintStudentName = student.name">{{ student.name }}</mat-option>
                </ng-container>
            </mat-select>
        </mat-form-field>
    </div>

    <div class="send-new-common-section">
        <span class="text-{{ user.activeSchool.secondaryThemeColor }} send-new-header"> Enter title : </span>
        <input class="title-input" type="text" placeholder="Enter Title">
    </div>

    <br />
    <div class="comment-section">
        <div class="send-new-default-text">
            Type your fee related query here. Kindly provide information such as month or duration of the problem, fee amount, etc in the message.
        </div>
        <div class="bottom-section">
            <input class="bottom-search-field" type="search" placeholder="Type Query here" [ngModel]="comment" (ngModelChange)="comment = $event">
            <button
                type="button"
                class="btn btn-{{ user.activeSchool.secondaryThemeColor }} bottom-seach-btn"
                style="padding: 12px 15px"
                matTooltip="Send Comment"
                tooltip-position="left"
                (click)="pageName = 'list-of-complaints'"
            >
                Send
            </button>
        </div>
    </div>
</div>
