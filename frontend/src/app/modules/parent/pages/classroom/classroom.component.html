<div class="card-content" id="classroom-main" #classRoom *ngIf="!isLoading else Loader">
    <ng-container *ngIf="isActiveSession else NotActiveSession">
        <h3>{{htmlRenderer.getTime()}}</h3>

        <ng-container *ngIf="!htmlRenderer.meetingEntered else zoomIframe">
            <ng-container *ngIf="htmlRenderer.timeSpanList.length>0 else NoClassReg">
                <div style="overflow: auto;">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Time</th>
                                <th>Class</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container
                                *ngFor="let timespan of htmlRenderer.timeSpanList, let timeSpanIndex = index;">
                                <tr>
                                    <td style="width: 160px;">
                                        {{timespan.startTime.getDisplayString()}} -
                                        {{timespan.endTime.getDisplayString()}}
                                        {{timespan.endTime.ampm}}
                                    </td>
                                    <ng-container *ngIf="htmlRenderer.getOnlineClassByTime(timespan) as onlineClass;">
                                        <td style="position: relative;"
                                            [class]="htmlRenderer.isActive(onlineClass)?'activeClass':'disabledClass'"
                                            [style.color]="htmlRenderer.colorPaletteHandle.getColorForSubject(htmlRenderer.getDisplayData(onlineClass).subject.name)"
                                            [style.backgroundColor]="htmlRenderer.colorPaletteHandle.getBackgroundColorForSubject(htmlRenderer.getDisplayData(onlineClass).subject.name)">
                                            <h4>{{htmlRenderer.getDisplayData(onlineClass).subject.name}}</h4>

                                            <ng-container *ngIf="htmlRenderer.isActive(onlineClass)">
                                                <br /><span>Meeting ID:
                                                    {{onlineClass.meetingNumber?onlineClass.meetingNumber:'-'}}</span>
                                                <br /><span>Pass Code:
                                                    {{onlineClass.password?onlineClass.password:'-'}}</span>
                                                <button class="btn" *ngIf="onlineClass.meetingNumber"
                                                    (click)="serviceAdapter.initilizeMeetingData(onlineClass)"
                                                    style="background-color: green; color:white; float: right; margin-top: 24px;">Enter
                                                    Class</button>
                                            </ng-container>
                                        </td>
                                    </ng-container>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </div>
            </ng-container>
        </ng-container>
    </ng-container>

</div>
<ng-template #Loader>
    <app-loading-spinner [user]="user"></app-loading-spinner>
</ng-template>

<ng-template #NotActiveSession>
    <span style="color: red;">This session is closed</span>
</ng-template>

<ng-template #NoClassReg>
    <span>No Online Registered Class</span>
</ng-template>

<ng-template #zoomIframe>
    <button (click)="htmlRenderer.meetingEntered = false;"
        style="margin-bottom: 12px; display: flex; border-radius: 50%;background-color: black; color:white;">
        <mat-icon>arrow_back</mat-icon>
    </button>
    <iframe id="zoomIFrame" allowfullscreen="true" allow="camera *;microphone *"
        style="width: 100%; height: 75vh;"></iframe>
</ng-template>