<div class="modalWrapper">
  <div class="modalContainer" (click)="closeColorList($event)">
    <!-- Title-bar -->
    <div class="modalRow titleBar">
      <div class="modalRowItem">
        <span class="modalColItem">Leave >> Add Leave Type</span>
      </div>
      <div class="modalRowItem">
        <div class="modalColItem">
          <button
            class="material-icons closeBtn"
            (click)="closeDialog($event)"
          >
            close
          </button>
        </div>
      </div>
    </div>
    <!-- Horizontal Break -->
    <div class="modalBreakLine"></div>
    <!-- Leave Type -->
    <div class="modalRow">
      <div class="modalRowItem" style="width: 40%">
        <div class="modalColItem">
          <label class="modalLabel">Select Type</label>
        </div>
      </div>
      <div class="modalRowItem" style="width: 60%">
        <div class="modalColItem">
          <select class="modalInput" [(ngModel)]="leaveType">
            <option value="-1">None</option>
            <option value="0">Paid Leaves</option>
            <option value="1">Unpaid Leaves</option>
          </select>
        </div>
      </div>
    </div>
    <!-- give Name and select Color -->
    <div class="modalRow">
      <div class="modalRowItem" style="width: 40%">
        <div class="modalColItem">
          <label class="modalLabel">Set Denotation</label>
        </div>
      </div>
      <div class="modalRowItem" style="width: 60%">
        <div class="modalColItem">
          <input
            class="modalInput"
            [(ngModel)]="name"
            [value]="name"
            placeholder="CL"
          />
        </div>
      </div>
    </div>
    <div class="modalRow">
      <div class="modalRowItem" style="width: 40%">
        <div class="modalColItem">
          <label class="modalLabel">Set Colour</label>
        </div>
      </div>
      <div class="modalRowItem" style="width: 60%">
        <div class="modalColItem">
          <span
            class="colorSelector"
            (click)="isColorListVisible = !isColorListVisible"
          >
            <div
              id="colorIndicator"
              class="colorSelector modalInput"
              style="
                cursor: pointer;
                width: 100%;
                display: flex;
                flex-direction: row;
                justify-content: space-between;
              "
              [ngStyle]="{ backgroundColor: color }"
            >
              <div class="colorSelector">
                {{ color == "" ? "Select Color" : "Change Color" }}
              </div>
              <div class="colorSelector material-icons">
                arrow_drop_down
              </div>
            </div></span
          >
          <div *ngIf="isColorListVisible" class="modalColorContainer">
            <div
              *ngFor="let colorCode of colorCodes"
              style="
                width: 10%;
                height: 25px;
                margin-top: 2.5px;
                margin-bottom: 2.5px;
                border-radius: 2px;
                cursor: pointer;
              "
              [ngStyle]="{ background: colorCode }"
              (click)="updateColor($event, colorCode)"
            ></div>
          </div>
        </div>
      </div>
      <!-- CarryForward and Encashments -->
      <div class="modalRow">
        <div class="modalRowItem" style="width: 100%">
          <div class="modalColItem">
            <label class="modalLabel"
              >Carry-Forwarding and Encashments -</label
            >
          </div>
        </div>
      </div>
      <div class="modalRow">
        <div
          class="modalRowItem"
          style="width: 5ch; padding-left: 5px; padding-right: 5px"
        >
          <div class="modalColItem" style="text-align: center"></div>
        </div>
        <div
          class="modalRowItem"
          style="width: 100px; padding-left: 5px; padding-right: 5px"
        >
          <div class="modalColItem" style="text-align: left">Value</div>
        </div>
        <div
          class="modalRowItem"
          style="width: fit-content; padding-left: 5px; padding-right: 5px"
        >
          <div class="modalColItem" style="text-align: left">
            Remaining Leaves
          </div>
        </div>
      </div>
      <div class="modalRow" *ngFor="let month of months">
        <div
          class="modalRowItem"
          style="width: 5ch; padding-left: 5px; padding-right: 5px"
        >
          <div
            class="modalColItem"
            style="text-align: center; text-transform: capitalize"
          >
            {{ month }}
          </div>
        </div>
        <div
          class="modalRowItem"
          style="width: 100px; padding-left: 5px; padding-right: 5px"
        >
          <div class="modalColItem" style="text-align: left">
            <input
              class="modalInput"
              type="number"
              [(ngModel)]="leavesPerMonth[month][0]"
            />
          </div>
        </div>
        <div
          class="modalRowItem"
          style="width: 100px; padding-left: 5px; padding-right: 5px"
        >
          <div class="modalColItem" style="text-align: left">
            <select
              (change)="updateLeaves($event, month)"
              class="modalInput"
            >
              <option value="0" [selected]="leavesPerMonth[month][1] == 0">
                CFW
              </option>
              <option value="1" [selected]="leavesPerMonth[month][1] == 1">
                Lapse
              </option>
              <option value="2" [selected]="leavesPerMonth[month][1] == 2">
                ENC
              </option>
            </select>
          </div>
        </div>
      </div>
      <div class="modalRow">
        <div class="modalRowItem" style="width: 100%">
          <div class="modalColItem">
            <span
              (click)="isNoteVisible = !isNoteVisible;"
              style="
                text-overflow: ellipsis;
                overflow: hidden;
                font-size: small;
                cursor: pointer;
              "
              [ngStyle]="{
                display: !isNoteVisible? 'inline-block' : 'block',
                whiteSpace: !isNoteVisible? 'nowrap' : 'normal'
              }"
            >
              Note - Policies are applicable for the next month. CFW for
              January will decide if leaves will be carry-forwarded from
              January to February
            </span>
          </div>
        </div>
      </div>
      <!-- Horizontal Break -->
      <div class="modalBreakLine"></div>
      <!-- Set Encashments Formula -->
      <div class="modalRow">Form under-construction</div>
      <!-- Horizontal Break -->
      <div class="modalBreakLine"></div>
      <!-- Close / Save -->
      <div
        class="modalRow"
        style="
          padding: 5px 5px 5px 20px;
          margin-top: 12px;
          margin-bottom: 12px;
          justify-content: end;
        "
      >
        <button
          (click)="saveData($event)"
          class="modalButton"
          style="color: white; background: #fe9800"
        >
          Add
        </button>
        <button
          class="modalButton"
          (click)="closeDialog($event)"
          style="border: 1px solid #fe9800"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>