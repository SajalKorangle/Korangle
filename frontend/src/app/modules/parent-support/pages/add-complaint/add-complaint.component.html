<div *ngIf="!isLoading" class="card-content">
    <div class="common-section">
        <span class="text-{{ user.activeSchool.secondaryThemeColor }} header">Student Name : </span>
        <div class="search-bar" style="flex-basis: 50%;">
            <input class="search-field" type="search" placeholder="Enter Student Name" [ngModel]="seachStudentString" (ngModelChange)="seachStudentString = $event; seachStudentChanged()">
            <button class="seach-btn" (click)="searchStudent()"><i class="material-icons search-icon">search</i></button>
        </div>
    </div>

    <div *ngIf="searchedStudentList.length > 0" class="common-section">
        <span class="text-{{ user.activeSchool.secondaryThemeColor }} header"></span>
        <div style="flex-basis: 50%;">
            <cdk-virtual-scroll-viewport itemSize="0" class="example-viewport">
                <ng-container *ngFor="let student of searchedStudentList">
                    <mat-option (click)="initializeStudentData(student)">
                        {{ student.name }}
                    </mat-option>
                </ng-container>
            </cdk-virtual-scroll-viewport>
        </div>
    </div>
    <br />

    <div class="common-section">
        <span class="text-{{ user.activeSchool.secondaryThemeColor }} header">Fatherâ€™s Name : </span>
        <div>
            {{ fatherName }}
        </div>
    </div>
    <br *ngIf="isMobile()"/>

    <div class="common-section">
        <span class="text-{{ user.activeSchool.secondaryThemeColor }} header">Select Complaint type : </span>
        <mat-form-field>
            <mat-select placeholder="{{ complaintTypeName }}" style="width: 100%">
                <ng-container *ngFor="let complaintTypeT of complaintTypeList">
                    <mat-option (click)="complaintTypeName = complaintTypeT.name; complaintType = complaintTypeT;">{{ complaintTypeT.name }}</mat-option>
                </ng-container>
            </mat-select>
        </mat-form-field>
    </div>
    <!-- <br /> -->

    <div class="common-section">
        <span class="text-{{ user.activeSchool.secondaryThemeColor }} header"> Enter title : </span><br />
        <input class="title-input" type="text" placeholder="Enter Title" [(ngModel)]="complaintTitle">
    </div>
    <br />

    <div class="comment-section">
        <div class="default-text">
            {{ complaintType["defaultText"] ? complaintType["defaultText"] : '' }}
        </div>

        <ng-container *ngIf="!isMobile()">
            <div class="bottom-section">
                <input class="bottom-search-field" type="search" placeholder="Type Query here" [(ngModel)]="comment">
                <button
                    type="button"
                    class="btn btn-{{ user.activeSchool.secondaryThemeColor }} bottom-seach-btn"
                    style="padding: 12px 15px"
                    matTooltip="Send Comment"
                    tooltip-position="left"
                    (click)="sendComplaintClicked()"
                >
                    Send
                </button>
            </div>
        </ng-container>

        <ng-container *ngIf="isMobile()">
            <div class="bottom-section">
                <textarea
                    placeholder="Type Query here"
                    class="bottom-text-field"
                    [(ngModel)]="comment"
                ></textarea>
                <br />

                <div style="display: flex; justify-content: center; align-items: center;">
                    <button
                        type="button"
                        class="btn btn-{{ user.activeSchool.secondaryThemeColor }} bottom-seach-btn"
                        style="padding: 10px 25px"
                        matTooltip="Send Comment"
                        tooltip-position="left"
                        (click)="sendComplaintClicked()"
                    >
                        Send
                    </button>
                </div>
            </div>
        </ng-container>
    </div>
    <br />
</div>

<!-- Starts: Spinner -->
<ng-container *ngIf="isLoading">
    <app-loading-spinner [user]="user"></app-loading-spinner>
</ng-container>
<!-- Ends: Spinner -->
