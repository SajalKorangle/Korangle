<div class="card-content">

    <!-- Page -->
    <ng-container *ngIf="!isLoading">

        <div class="row" style="height: 85vh;">

            <div class="col-xs-6" style="height: 100%; overflow: auto;">

                <!-- Choose to add/edit/delete layout/s -->
                <mat-form-field style="margin-bottom: 10px;">
                    <mat-select placeholder="Choose to add/edit/delete layout/s"
                                [ngModel]="currentLayout"
                                (ngModelChange)="populateCurrentLayoutWithGivenValue($event);">
                        <mat-option [value]="ADD_LAYOUT_STRING">{{ADD_LAYOUT_STRING}}</mat-option>
                        <mat-option *ngFor="let layout of reportCardLayoutList;" [value]="layout">{{layout.name}}</mat-option>
                    </mat-select>
                </mat-form-field>

                <ng-container *ngIf="currentLayout">

                    <!-- Layout Name, Field Selection -->
                    <mat-card style="margin-bottom: 20px;">

                        <!-- Layout Name -->
                        <div class="row">
                            <div class="col-md-6">
                                <span style="color:red" *ngIf="!doesCurrentLayoutHasUniqueName()" class="small">
                                    Layout name must be unique
                                </span>
                                <mat-form-field style="width: 100%;">
                                    <mat-label>
                                        Layout Name
                                    </mat-label>
                                    <input matInput [(ngModel)]="currentLayout.name">
                                </mat-form-field>
                            </div>
                            <div class="col-md-6" align="end">
                                <button type="button"
                                        class="btn"
                                        (click)="resetCurrentLayout();updatePDF(1);"
                                        style="cursor: pointer; padding: 4px 7px;">Reset All</button>
                            </div>
                        </div>

                    </mat-card>

                    <!-- TODO: Only show examination field if examination list is not empty, same can go for student & studnent custom fields -->

                    <!-- Fields Selection -->
                    <mat-expansion-panel style="margin-bottom: 2vh;">
                        <mat-expansion-panel-header >
                            <mat-panel-title>
                                Fields
                            </mat-panel-title>
                        </mat-expansion-panel-header>

                        <div>
                            <mat-form-field *ngFor="let fieldKey of getFieldKeyList()"
                                            style="margin-right: 10px">
                                <mat-label>
                                    {{fields[fieldKey].displayFieldName}}
                                </mat-label>
                                <mat-select [value]="null">
                                    <mat-option *ngFor="let parameter of getFilteredParameterList(fields[fieldKey]); let i = index"
                                                (click)="htmlAdapter.addToCurrentUserHandleList(parameter); updatePDF(1);"
                                                [value]="null">
                                        {{parameter.displayParameterNameFunc({data: data})}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                    </mat-expansion-panel>

                    <!-- Background Image -->
                    <mat-expansion-panel style="margin-bottom: 2vh;">
                        <mat-expansion-panel-header >
                            <mat-panel-title>
                                Background Image
                            </mat-panel-title>
                        </mat-expansion-panel-header>

                        <img [src]="currentLayout.background" style="width: 35vh; height: 49.5vh;"/><br/>
                        <input type='file' (change)="readURL($event);" multiple="false" style="display: none" accept="image/*" #imageInput/>
                        <button type="button"
                                class="btn"
                                (click)="imageInput.click()"
                                style="cursor: pointer; padding: 4px 7px;">Upload New</button>
                        <button type="button"
                                class="btn"
                                (click)="resetBackground();updatePDF(1);"
                                style="cursor: pointer; padding: 4px 7px;">Choose Default</button><br/>

                    </mat-expansion-panel>

                    <!-- Field, Parameter -->
                    <mat-expansion-panel *ngIf="currentLayout.content.length" style="margin-bottom: 2vh;">
                        <mat-expansion-panel-header >
                            <mat-panel-title>
                                Parameters
                            </mat-panel-title>
                        </mat-expansion-panel-header>

                        <div>

                            <!-- Select Field -->
                            <mat-form-field style="margin-right: 10px;">
                                <mat-label>
                                    Select Field
                                </mat-label>
                                <mat-select [(ngModel)]="currentField" (ngModelChange)="pickAndSetCurrentUserHandle();">
                                    <mat-option *ngFor="let fieldKey of getSelectedFieldKeyListInCurrentLayout(); let i = index" [value]="fields[fieldKey]">
                                        {{fields[fieldKey].displayFieldName}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>

                            <!-- Select User Handle -->
                            <mat-form-field style="margin-right: 10px;">
                                <mat-label>
                                    Select Parameter
                                </mat-label>
                                <mat-select [(ngModel)]="currentUserHandle">
                                    <mat-option *ngFor="let userHandle of getFilteredCurrentUserHandleListByGivenField(currentField); let i = index" [value]="userHandle">
                                        {{getParameter(userHandle.key).displayParameterNameFunc({data: data, userHandle: userHandle})}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field><br/>

                            <!-- Copy Parameter -->
                            <button type="button" *ngIf="currentUserHandle"
                                    class="btn"
                                    style="padding: 4px 7px;"
                                    (click)="htmlAdapter.makeACopy(currentUserHandle); updatePDF(1)">
                                Copy
                            </button>
                            <!-- EOF Copy Parameter -->

                            <!-- Delete Parameter -->
                            <button type="button" *ngIf="currentUserHandle"
                                    class="btn"
                                    style="padding: 4px 7px;"
                                    (click)="deleteFromCurrentUserHandleList(currentUserHandle);">
                                Delete
                            </button>
                            <!-- EOF Delete Parameter -->

                            <div style="border: 1px solid black; width: 100%; margin-top:10px; margin-bottom: 10px;"></div>

                        </div>

                        <!-- If a user handle is selected -->
                        <div *ngIf="currentUserHandle">

                            <!-- Text, Marks & Date -->
                            <div *ngIf="getParameter(currentUserHandle.key).dataType===dataTypes.TEXT
                                        || getParameter(currentUserHandle.key).dataType===dataTypes.MARKS
                                        || getParameter(currentUserHandle.key).dataType===dataTypes.DATE">

                                <!-- Constant Value -->
                                <div style="margin-bottom: 10px;" *ngIf="getParameter(currentUserHandle.key).field.fieldStructureKey==fields.CONSTANT.fieldStructureKey">
                                    <mat-form-field style="width: 100%;">
                                        <mat-label>
                                            Value
                                        </mat-label>
                                        <input matInput
                                               type="text"
                                               [ngModel]="currentUserHandle.value" (ngModelChange)="currentUserHandle.value=$event;updatePDF();">
                                    </mat-form-field>
                                </div>

                                <!-- Date Format -->
                                <ng-container *ngIf="getParameter(currentUserHandle.key).dataType===dataTypes.DATE">

                                    <b style="margin-bottom: 5px;">Set Date Format</b>

                                    <!-- Input Field -->
                                    <div style="margin-bottom: 10px;">
                                        <mat-form-field style="width: 100%;">
                                            <mat-label>
                                                Format
                                            </mat-label>
                                            <input matInput
                                                   type="text"
                                                   [ngModel]="currentUserHandle.format"
                                                   (ngModelChange)="currentUserHandle.format=$event;updatePDF();">
                                        </mat-form-field>
                                    </div>

                                    <!-- Explanation -->
                                    <div style="margin-bottom: 15px;
                                                width: 100%;
                                                font-size: 10px;">

                                        <!-- Every format-->
                                        <div class="row no-gutters">
                                            <div class="col-md-4" style="text-align: center">
                                                Date
                                                <div class="row no-gutters">
                                                    <div class="col-xs-6">Type</div>
                                                    <div class="col-xs-6" style="text-align: center">Display</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;d&gt;</div>
                                                    <div class="col-xs-6">1</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;dd&gt;</div>
                                                    <div class="col-xs-6">01</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;ddd&gt;</div>
                                                    <div class="col-xs-6">1st</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;dddd&gt;</div>
                                                    <div class="col-xs-6">First</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4" style="text-align: center">
                                                Month
                                                <div class="row no-gutters">
                                                    <div class="col-xs-6">Type</div>
                                                    <div class="col-xs-6" style="text-align: center">Display</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;m&gt;</div>
                                                    <div class="col-xs-6">2</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;mm&gt;</div>
                                                    <div class="col-xs-6">02</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;mmm&gt;</div>
                                                    <div class="col-xs-6">Feb</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;mmmm&gt;</div>
                                                    <div class="col-xs-6">February</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4" style="text-align: center">
                                                Year
                                                <div class="row no-gutters">
                                                    <div class="col-xs-6">Type</div>
                                                    <div class="col-xs-6" style="text-align: center">Display</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;yy&gt;</div>
                                                    <div class="col-xs-6">89</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;yyy&gt;</div>
                                                    <div class="col-xs-6">1989</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-6">&lt;yyyy&gt;</div>
                                                    <div class="col-xs-6">Nineteen Eighty Nine</div>
                                                </div>
                                            </div>
                                        </div>

                                        put separators like . / - etc. between &lt;dd&gt;/&lt;mm&gt;/&lt;yyyy&gt; as desired<br/>
                                        Example
                                        <div class="row no-gutters">
                                            <div class="col-xs-6">3/2/10 or 12/11/17 type &lt;d&gt;/&lt;m&gt;/&lt;yy&gt;</div>
                                            <div class="col-xs-6">3-Feb-2010 type &lt;d&gt;-&lt;mmm&gt;-&lt;yyy&gt;</div>
                                        </div>
                                        <div class="row no-gutters">
                                            <div class="col-xs-6">03.02.10 or 12.11.17 type &lt;dd&gt;.&lt;mm&gt;.&lt;yy&gt;</div>
                                            <div class="col-xs-6">3-February-2010 type &lt;d&gt;-&lt;mmmm&gt;-&lt;yyy&gt;</div>
                                        </div>
                                        <div class="row no-gutters">
                                            <div class="col-xs-6">03.02.2010 or 12.11.2017 type &lt;dd&gt;.&lt;mm&gt;.&lt;yyy&gt;</div>
                                            <div class="col-xs-6">Three February Two Thousand Ten type &lt;dddd&gt; &lt;mmmm&gt; &lt;yyyy&gt;</div>
                                        </div>

                                    </div>

                                    <div style="border: 1px solid black; width: 100%; margin-top:10px; margin-bottom: 10px;"></div>

                                </ng-container>

                                <!-- Marks -->
                                <ng-container *ngIf="getParameter(currentUserHandle.key).dataType===dataTypes.MARKS">

                                    <!-- Variable Name -->
                                    <div style="margin-bottom: 10px;">
                                        <mat-form-field style="width: 100%;">
                                            <mat-label>
                                                Type variable name here
                                            </mat-label>
                                            <input matInput
                                                   type="text"
                                                   [(ngModel)]="currentUserHandle.name">
                                        </mat-form-field><br/>
                                        <ng-container *ngIf="htmlAdapter.getMarksUserHandleListWithName(currentUserHandle.name).length > 1">
                                            <span style="color: red">{{currentUserHandle.name}} already exists.</span>
                                        </ng-container>
                                        <ng-container *ngIf="currentUserHandle.name === '' || currentUserHandle.name === null">
                                            <span style="color: red">Variable name should be populated.</span>
                                        </ng-container>
                                    </div>
                                    <!-- EOF Variable Name -->

                                    <div style="border: 1px solid black; width: 50%; margin-top:10px; margin-bottom: 10px;"></div>

                                    <!-- Formula -->
                                    <b style="margin-bottom: 5px;">Set Marks Data</b>

                                    <div style="margin-bottom: 10px;">
                                        <mat-form-field style="width: 100%;">
                                            <mat-label>
                                                Type Formula here
                                            </mat-label>
                                            <input matInput
                                                   type="text"
                                                   maxRows="3"
                                                   [(ngModel)]="currentUserHandle.formula" (ngModelChange)="updatePDF();">
                                        </mat-form-field>
                                    </div>

                                    <ng-container *ngFor="let marksVariable of currentUserHandle.marksVariableList; let i = index;">

                                        <mat-expansion-panel style="margin-bottom: 1vh;" *ngIf="marksVariable.parentExamination">

                                            <mat-expansion-panel-header >
                                                <mat-panel-title>
                                                    '{{alphabetList.charAt(i)}}':
                                                    {{htmlAdapter.getExaminationFromExaminationId(marksVariable.parentExamination).name.slice(0,4)}}... ,
                                                    {{htmlAdapter.getSubjectFromSubjectId(marksVariable.parentSubject).name}} ,
                                                    <ng-container *ngIf="marksVariable.testType">{{marksVariable.testType}},</ng-container>
                                                    {{htmlAdapter.getAbbreviation(marksVariable.marksType)}}
                                                    <span style="padding-left: 5px;color:gray;cursor: pointer;"
                                                          class="material-icons"
                                                          (click)="currentUserHandle.marksVariableList.splice(i, 1); updatePDF(800)">delete</span>
                                                </mat-panel-title>
                                            </mat-expansion-panel-header>

                                            <mat-form-field style="margin-right: 10px;">
                                                <mat-label>
                                                    Select Examination
                                                </mat-label>
                                                <mat-select [(ngModel)]="marksVariable.parentExamination" (ngModelChange)="updatePDF(2000);">
                                                    <mat-option *ngFor="let examination of data.examinationList;" [value]="examination.id">
                                                        {{examination.name}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>

                                            <mat-form-field style="margin-right: 10px;">
                                                <mat-label>
                                                    Select Subject
                                                </mat-label>
                                                <mat-select [(ngModel)]="marksVariable.parentSubject" (ngModelChange)="updatePDF(2000);">
                                                    <mat-option *ngFor="let subject of data.subjectList;" [value]="subject.id">
                                                        {{subject.name}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field><br/>

                                            <mat-form-field style="margin-right: 10px;">
                                                <mat-label>
                                                    Select Test Type
                                                </mat-label>
                                                <mat-select [(ngModel)]="marksVariable.testType" (ngModelChange)="updatePDF(2000);">
                                                    <mat-option *ngFor="let testType of testTypeList" [value]="testType">{{testType}}</mat-option>
                                                </mat-select>
                                            </mat-form-field>

                                            <mat-form-field style="margin-right: 10px;">
                                                <mat-label>
                                                    M.M. / M.O.
                                                </mat-label>
                                                <mat-select [(ngModel)]="marksVariable.marksType" (ngModelChange)="updatePDF(2000);">
                                                    <mat-option *ngFor="let marksType of marksTypeList" [value]="marksType">{{marksType}}</mat-option>
                                                </mat-select>
                                            </mat-form-field>

                                            <!-- Delete Marks -->
                                            <div *ngIf="currentUserHandle.marksVariableList.length > 1">
                                                <button type="button"
                                                        class="btn"
                                                        style="padding: 4px 7px;"
                                                        (click)="currentUserHandle.marksVariableList.splice(i, 1); updatePDF(800)">
                                                    Delete
                                                </button>
                                            </div>

                                        </mat-expansion-panel>

                                        <mat-card style="margin-bottom: 1vh;" *ngIf="!currentUserHandle.marksVariableList[i].parentExamination">
                                            '{{alphabetList.charAt(i)}}':
                                            <mat-form-field>
                                                <mat-label>
                                                    Select Variable
                                                </mat-label>
                                                <mat-select [(ngModel)]="currentUserHandle.marksVariableList[i]" (ngModelChange)="updatePDF(800);">
                                                    <mat-option *ngFor="let marksUserHandle of htmlAdapter.getMarksUserHandleListExceptCurrent();"
                                                                [value]="marksUserHandle.name">
                                                        {{marksUserHandle.name}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <span style="padding-left: 5px;color:gray;cursor: pointer; float: right"
                                                  class="material-icons"
                                                  (click)="currentUserHandle.marksVariableList.splice(i, 1); updatePDF(800)">delete</span>
                                            <ng-container *ngIf="htmlAdapter.getMarksUserHandleListWithName(currentUserHandle.marksVariableList[i]).length === 0">
                                                <br/>
                                                <span style="color: red">{{currentUserHandle.marksVariableList[i]}} doesn't exist anymore.</span>
                                            </ng-container>
                                            <ng-container *ngIf="currentUserHandle.marksVariableList[i] === currentUserHandle.name">
                                                <br/>
                                                <span style="color: red">{{currentUserHandle.marksVariableList[i]}} - same name as the current variable is not allowed.</span>
                                            </ng-container>
                                        </mat-card>

                                    </ng-container>

                                    <div *ngIf="currentUserHandle.marksVariableList.length < 26">
                                        <!-- Add Marks -->
                                        <button type="button"
                                                class="btn"
                                                style="padding: 4px 7px;"
                                                (click)="htmlAdapter.addMarksToMarksVariableList(currentUserHandle.marksVariableList); updatePDF(3000);">
                                            Add Marks
                                        </button>
                                        <!-- Add Variable -->
                                        <button *ngIf="htmlAdapter.getMarksUserHandleListExceptCurrent().length > 0"
                                                type="button"
                                                class="btn"
                                                style="padding: 4px 7px;"
                                                (click)="htmlAdapter.addMarksUserHandleToMarksVariableList(); updatePDF(3000)">
                                            Add Variable
                                        </button>
                                    </div>
                                    <!-- EOF Formula -->

                                    <!-- Decimal -->
                                    <div style="margin-bottom: 10px;">
                                        <customized-number-input
                                                [placeHolder]="'# of Decimal Digits'"
                                                [minimum]="0"
                                                [maximum]="3"
                                                [maximumDecimal]="0"
                                                [inputValue]="currentUserHandle.decimalPlace"
                                                (outputValue)="currentUserHandle.decimalPlace=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                    <!-- Decimal -->

                                    <!-- Grade Conversion -->
                                    <ng-container *ngIf="htmlAdapter.gradeRuleList().length > 0">

                                        <mat-form-field>
                                            <mat-label>
                                                Select Grade Rule
                                            </mat-label>
                                            <mat-select [(ngModel)]="currentUserHandle.gradeRuleName" (ngModelChange)="updatePDF(800);">
                                                <mat-option [value]="''">None</mat-option>
                                                <mat-option *ngFor="let gradeRule of htmlAdapter.gradeRuleList();"
                                                            [value]="gradeRule.name">
                                                    {{gradeRule.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>

                                    </ng-container>
                                    <!-- EOF Grade Conversion -->

                                    <div style="border: 1px solid black; width: 50%; margin-top:10px; margin-bottom: 10px;"></div>

                                </ng-container>
                                <!-- EOF Marks -->

                                <!-- Grades -->
                                <ng-container *ngIf="currentUserHandle.key===fields.EXAMINATION.fieldStructureKey+'-'+htmlAdapter.examinationTypeList[1]">

                                    <b style="margin-bottom: 10px;">Set Grade</b><br/>

                                    <mat-form-field style="margin-right: 10px;">
                                        <mat-label>
                                            Select Grade
                                        </mat-label>
                                        <mat-select [ngModel]="gradeAdapter.getGradeId()" (ngModelChange)="gradeAdapter.setSubGrade($event);updatePDF(4000);">
                                            <mat-option *ngFor="let grade of data.gradeList;" [value]="grade.id">
                                                {{grade.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field>
                                        <mat-label>
                                            Select Sub-Grade
                                        </mat-label>
                                        <mat-select [(ngModel)]="currentUserHandle.value.subGradeId" (ngModelChange)="updatePDF(4000);">
                                            <mat-option *ngFor="let subGrade of gradeAdapter.getFilteredSubGradeList();" [value]="subGrade.id">
                                                {{subGrade.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <div style="margin-bottom: 10px;"></div>

                                    <mat-form-field>
                                        <mat-label>
                                            Select Examination
                                        </mat-label>
                                        <mat-select [(ngModel)]="currentUserHandle.value.examinationId" (ngModelChange)="updatePDF(2000);">
                                            <mat-option *ngFor="let examination of data.examinationList;" [value]="examination.id">
                                                {{examination.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <div style="border: 1px solid black; width: 100%; margin-top:10px; margin-bottom: 10px;"></div>

                                </ng-container>
                                <!-- EOF Grades -->

                                <!-- Remarks -->
                                <ng-container *ngIf="currentUserHandle.key === fields.EXAMINATION.fieldStructureKey+'-'+htmlAdapter.examinationTypeList[2]">

                                    <b style="margin-bottom: 10px;">Choose Examination</b><br/>

                                    <mat-form-field>
                                        <mat-label>
                                            Select Examination
                                        </mat-label>
                                        <mat-select [(ngModel)]="currentUserHandle.value.examinationId" (ngModelChange)="updatePDF(2000);">
                                            <mat-option *ngFor="let examination of data.examinationList;" [value]="examination.id">
                                                {{examination.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <div style="border: 1px solid black; width: 100%; margin-top:10px; margin-bottom: 10px;"></div>

                                </ng-container>
                                <!-- EOF Remarks -->

                                <!-- Attendance -->
                                <ng-container *ngIf="getParameter(currentUserHandle.key).field.fieldStructureKey === fields.ATTENDANCE.fieldStructureKey">
                                    <day-date [placeHolder]="'Start Date'"
                                              (onDateSelected)="currentUserHandle.value.startDate=$event;updatePDF(2000);"
                                              [nullButtonDisabled]="true"
                                              [formattedDateOutput]="true"
                                              [initialValue]="currentUserHandle.value.startDate"></day-date>
                                    <day-date [placeHolder]="'End Date'"
                                              (onDateSelected)="currentUserHandle.value.endDate=$event;updatePDF(2000);"
                                              [nullButtonDisabled]="true"
                                              [formattedDateOutput]="true"
                                              [initialValue]="currentUserHandle.value.endDate"></day-date>

                                    <div style="border: 1px solid black; width: 100%; margin-top:10px; margin-bottom: 10px;"></div>

                                </ng-container>
                                <!-- EOF Attendance -->

                                <!-- Font Style -->
                                <div style="margin-bottom: 5px; width: 50%; align: center;">
                                    <b style="margin-bottom: 5px;">Set Field Style</b>
                                </div>

                                <!-- Font List -->
                                <div style="margin-bottom: 10px;">
                                    <mat-form-field style="margin-right: 5px;">
                                        <mat-label>Select Font Family</mat-label>
                                        <mat-select [(ngModel)]="currentUserHandle.fontFamily" (ngModelChange)="currentUserHandle.fontStyle=getFontStyleList($event)[0];updatePDF()">
                                            <mat-option *ngFor="let fontFamily of fontFamilyList;" [value]="fontFamily.displayName">
                                                <span [ngStyle]="{'font-family': fontFamily.displayName }">{{fontFamily.displayName}}</span>
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field style="margin-right: 5px;" *ngIf="currentUserHandle.fontFamily">
                                        <mat-label>Select Style</mat-label>
                                        <mat-select [(ngModel)]="currentUserHandle.fontStyle" (ngModelChange)="updatePDF();">
                                            <mat-option *ngFor="let fontStyle of getFontStyleList(currentUserHandle.fontFamily);" [value]="fontStyle">
                                                {{fontStyle}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <!-- EOF Font List -->

                                <!-- Bold, Italic, Underline -->
                                <div style="margin-bottom: 10px">
                                    <mat-button-toggle
                                            style="margin-right: 5px"
                                            [checked]="currentUserHandle.underline"
                                            (change)="currentUserHandle.underline = $event.source.checked;updatePDF(1);">
                                        <mat-icon>format_underline</mat-icon>
                                    </mat-button-toggle>
                                </div>
                                <!-- EOF Bold, Italic, Underline -->

                                <!-- Text Color -->
                                <div style="margin-bottom: 10px">
                                    <span style="margin-right: 10px;">Color: </span>
                                    <input [colorPicker]="currentUserHandle.textColor"
                                           (colorPickerChange)="currentUserHandle.textColor = $event;updatePDF(800);"
                                           [cpOutputFormat]="'hex'"
                                           [cpDialogDisplay]="'inline'"
                                           [style.background]="currentUserHandle.textColor"/>
                                </div>
                                <!-- EOF Text Color -->

                                <!-- Font Size -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <customized-number-input
                                                [placeHolder]="'Font size (in mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.fontSize"
                                                (outputValue)="currentUserHandle.fontSize=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                </div>
                                <!-- EOF Font Size -->
                                <!-- EOF Font Style -->

                                <div style="border: 1px solid black; width: 50%; margin-top:10px; margin-bottom: 10px;"></div>

                                <!-- Field Position -->
                                <div style="margin-bottom: 5px; width: 100%; align: center;">
                                    <b style="margin-bottom: 5px;">Set Field Position</b>
                                </div>

                                <!-- Alignment -->
                                <div style="margin-bottom: 10px;">
                                    <mat-form-field style="margin-right: 5px;">
                                        <mat-label>Vertical Alignment</mat-label>
                                        <mat-select [(ngModel)]="currentUserHandle.baseline" (ngModelChange)="updatePDF()">
                                            <mat-option value="top">Field Top</mat-option>
                                            <mat-option value="bottom">Field Bottom</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field style="margin-right: 5px;">
                                        <mat-label>Horizontal Alignment</mat-label>
                                        <mat-select [(ngModel)]="currentUserHandle.align" (ngModelChange)="updatePDF()">
                                            <mat-option value="left">Field Left</mat-option>
                                            <mat-option value="right">Field Right</mat-option>
                                            <mat-option value="center">Field Center</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <!-- Alignment -->

                                <!-- Position -->
                                <div class="row" style="margin-bottom: 10px;">
                                    <div class="col-md-6">
                                        <customized-number-input
                                                [placeHolder]="'Field ' + currentUserHandle.baseline + ' from Top of Card (in mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.y"
                                                (outputValue)="currentUserHandle.y=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                    <div class="col-md-6">
                                        <customized-number-input
                                                [placeHolder]="'Field ' + currentUserHandle.align + ' from Left of Card (in mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.x"
                                                (outputValue)="currentUserHandle.x=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                </div>
                                <!-- EOF Position -->

                                <!-- Maximum Width -->
                                <div class="row" style="margin-bottom: 10px;">
                                    <div class="col-md-12">
                                        <customized-number-input
                                                [placeHolder]="'Maximum Width (mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.maxWidth"
                                                (outputValue)="currentUserHandle.maxWidth=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                </div>
                                <!-- EOF Maximum Width -->
                                <!-- EOF Field Position -->

                            </div>
                            <!-- EOF Text, Marks & Date -->

                            <!-- Image -->
                            <div *ngIf="getParameter(currentUserHandle.key).dataType===dataTypes.IMAGE">

                                <!-- Position -->
                                <div class="row" style="margin-bottom: 10px;">
                                    <div class="col-md-6">
                                        <customized-number-input
                                                [placeHolder]="'Top (in mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.y"
                                                (outputValue)="currentUserHandle.y=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                    <div class="col-md-6">
                                        <customized-number-input
                                                [placeHolder]="'Left (in mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.x"
                                                (outputValue)="currentUserHandle.x=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                </div>

                                <!-- Height, Width -->
                                <div class="row" style="margin-bottom: 10px;">
                                    <div class="col-md-6">
                                        <customized-number-input
                                                [placeHolder]="'Image Height (mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.height"
                                                (outputValue)="currentUserHandle.height=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                    <div class="col-md-6">
                                        <customized-number-input
                                                [placeHolder]="'Image Width (mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.width"
                                                (outputValue)="currentUserHandle.width=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                </div>

                            </div>
                            <!-- EOF Image -->

                            <!-- Table -->
                            <div *ngIf="getParameter(currentUserHandle.key).dataType===dataTypes.TABLE">

                                <!-- Field Position -->
                                <div style="margin-bottom: 5px; width: 100%; align: center;">
                                    <b style="margin-bottom: 5px;">Set Table Position</b>
                                </div>

                                <div class="row" style="margin-bottom: 10px;">
                                    <div class="col-md-6">
                                        <customized-number-input
                                                [placeHolder]="'Top (in mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.y"
                                                (outputValue)="currentUserHandle.y=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                    <div class="col-md-6">
                                        <customized-number-input
                                                [placeHolder]="'Left (in mm)'"
                                                [minimum]="0"
                                                [maximum]="500"
                                                [maximumDecimal]="3"
                                                [inputValue]="currentUserHandle.x"
                                                (outputValue)="currentUserHandle.x=$event;updatePDF()">
                                        </customized-number-input>
                                    </div>
                                </div>
                                <!-- EOF Field Position -->

                                <div style="border: 1px solid black; width: 50%; margin-top:10px; margin-bottom: 10px;"></div>

                                <!-- Rows & Columns -->
                                <div style="margin-top: 10px; margin-bottom: 5px; width: 100%; align: center;">
                                    <b>Set Table Rows & Columns</b>
                                </div>

                                <!-- Select All, Clear All Button -->
                                <button type="button"
                                        class="btn"
                                        style="padding: 4px 7px;"
                                        (click)="htmlAdapter.selectAllTableCells()">
                                    Select All
                                </button>
                                <button type="button"
                                        class="btn"
                                        style="padding: 4px 7px;"
                                        (click)="htmlAdapter.deselectAllTableCells()">
                                    Clear All
                                </button>
                                <!-- EOF Select All, Clear All Button -->

                                <!-- Table Display -->
                                <div style="line-height: 0px; margin-bottom: 10px;">
                                    <ng-container *ngFor="let row of currentUserHandle.rowList; let rowIndex=index;">
                                        <ng-container *ngFor="let column of currentUserHandle.columnList; let columnIndex=index;">
                                            <span class="displayTableCell"

                                                  [class.selectedTableCell]="htmlAdapter.isCellSelected(rowIndex, columnIndex)"

                                                  [class.topBorderTableCell]="currentUserHandle.horizontalLineList[rowIndex][columnIndex].color==null"
                                                  [class.rightBorderTableCell]="currentUserHandle.verticalLineList[columnIndex+1][rowIndex].color==null"
                                                  [class.bottomBorderTableCell]="currentUserHandle.horizontalLineList[rowIndex+1][columnIndex].color==null"
                                                  [class.leftBorderTableCell]="currentUserHandle.verticalLineList[columnIndex][rowIndex].color==null"

                                                  [style.border-top-color]="currentUserHandle.horizontalLineList[rowIndex][columnIndex].color"
                                                  [style.border-right-color]="currentUserHandle.verticalLineList[columnIndex+1][rowIndex].color"
                                                  [style.border-bottom-color]="currentUserHandle.horizontalLineList[rowIndex+1][columnIndex].color"
                                                  [style.border-left-color]="currentUserHandle.verticalLineList[columnIndex][rowIndex].color"

                                                  [style.border-top-width.mm]="currentUserHandle.horizontalLineList[rowIndex][columnIndex].width"
                                                  [style.border-right-width.mm]="currentUserHandle.verticalLineList[columnIndex+1][rowIndex].width"
                                                  [style.border-bottom-width.mm]="currentUserHandle.horizontalLineList[rowIndex+1][columnIndex].width"
                                                  [style.border-left-width.mm]="currentUserHandle.verticalLineList[columnIndex][rowIndex].width"

                                                  [style.background]="currentUserHandle.cellList[rowIndex][columnIndex]"

                                                  [style.height.vh]="0.4*row.length"
                                                  [style.width.vh]="0.4*column.length"

                                                  (click)="htmlAdapter.handleCellClick(rowIndex, columnIndex);"></span>
                                        </ng-container>
                                        <br/>
                                    </ng-container>
                                </div>
                                <!-- EOF Table Display -->

                                <!-- Add Column -->
                                Add Column:
                                <ng-container *ngIf="htmlAdapter.selectedTableCellList.length == 1">
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            (click)="htmlAdapter.addTableColumnBefore(); updatePDF(1500)">
                                        <i class="material-icons">arrow_back</i>
                                    </button>
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            (click)="htmlAdapter.addTableColumnAfter(); updatePDF(1500)">
                                        <i class="material-icons">arrow_forward</i>
                                    </button>
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            *ngIf="currentUserHandle.columnList.length > 1"
                                            (click)="htmlAdapter.deleteTableColumn(); updatePDF(1500)">
                                        Del
                                    </button>
                                </ng-container><br/>
                                <!-- EOF Columns -->

                                <!-- Add Row -->
                                Add Row:
                                <ng-container *ngIf="htmlAdapter.selectedTableCellList.length == 1">
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            (click)="htmlAdapter.addTableRowBefore(); updatePDF(1500)">
                                        <i class="material-icons">arrow_upward</i>
                                    </button>
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            (click)="htmlAdapter.addTableRowAfter(); updatePDF(1500)">
                                        <i class="material-icons">arrow_downward</i>
                                    </button>
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            *ngIf="currentUserHandle.rowList.length > 1"
                                            (click)="htmlAdapter.deleteTableRow(); updatePDF(1500)">
                                        Del
                                    </button>
                                </ng-container><br/>
                                <!-- EOF Rows -->

                                <div style="border: 1px solid black; width: 50%; margin-top:10px; margin-bottom: 10px;"></div>

                                <!-- If one or more table cell/s are selected -->
                                <ng-container *ngIf="htmlAdapter.selectedTableCellList.length > 0">


                                    <!-- Height, Width -->
                                    <div style="margin-bottom: 10px;">
                                        <b>Set Height & Width</b>
                                    </div>
                                    <div class="row" style="margin-bottom: 10px;">
                                        <div class="col-md-6">
                                            <customized-number-input
                                                    [placeHolder]="'Row Height (in mm)'"
                                                    [minimum]="0"
                                                    [maximum]="500"
                                                    [maximumDecimal]="3"
                                                    [inputValue]="currentUserHandle.rowList[htmlAdapter.selectedTableCellList[0].rowIndex].length"
                                                    (outputValue)="htmlAdapter.handleRowLength($event);updatePDF()">
                                            </customized-number-input>
                                        </div>
                                        <div class="col-md-6">
                                            <customized-number-input
                                                    [placeHolder]="'Column Width (in mm)'"
                                                    [minimum]="0"
                                                    [maximum]="500"
                                                    [maximumDecimal]="3"
                                                    [inputValue]="currentUserHandle.columnList[htmlAdapter.selectedTableCellList[0].columnIndex].length"
                                                    (outputValue)="htmlAdapter.handleColumnLength($event);updatePDF()">
                                            </customized-number-input>
                                        </div>
                                    </div>
                                    <!-- EOF Height, Width -->

                                    <!-- Color -->
                                    <b>Fill Color</b><br/>
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            (click)="htmlAdapter.handleCellColor(null); updatePDF(1500)">
                                        No Fill
                                    </button>

                                    <div style="margin-bottom: 10px">
                                        <input [colorPicker]="currentUserHandle.cellList[htmlAdapter.selectedTableCellList[0].rowIndex][htmlAdapter.selectedTableCellList[0].columnIndex]"
                                               (colorPickerChange)="htmlAdapter.handleCellColor($event);updatePDF(2000)"
                                               [cpOutputFormat]="'hex'"
                                               [cpDialogDisplay]="'inline'"
                                               [style.background]="currentUserHandle.cellList[htmlAdapter.selectedTableCellList[0].rowIndex][htmlAdapter.selectedTableCellList[0].columnIndex]"/>
                                    </div>
                                    <!-- EOF Color -->

                                    <div style="border: 1px solid black; width: 50%; margin-top:10px; margin-bottom: 10px;"></div>

                                    <!-- Borders -->
                                    <div style="margin-bottom: 10px;">
                                        <b>Set Grid Line</b><br/>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <mat-radio-group [(ngModel)]="htmlAdapter.selectedBorder">
                                                <mat-radio-button value="top">Top</mat-radio-button><br/>
                                                <mat-radio-button value="right">Right</mat-radio-button><br/>
                                                <mat-radio-button value="bottom">Bottom</mat-radio-button><br/>
                                                <mat-radio-button value="left">Left</mat-radio-button>
                                            </mat-radio-group>
                                        </div>
                                        <div class="col-md-6">
                                            <ng-container *ngIf="htmlAdapter.selectedBorder=='top'">
                                                <customized-number-input
                                                        [placeHolder]="'Thickness (in mm)'"
                                                        [minimum]="0"
                                                        [maximum]="5"
                                                        [maximumDecimal]="3"
                                                        [inputValue]="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex][htmlAdapter.selectedTableCellList[0].columnIndex].width"
                                                        (outputValue)="htmlAdapter.handleTopBorder($event, 'width');updatePDF()">
                                                </customized-number-input>

                                                <mat-checkbox [ngModel]="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex][htmlAdapter.selectedTableCellList[0].columnIndex].color==null"
                                                              (ngModelChange)="htmlAdapter.handleTopBorder($event ? null : '#000000', 'color'); updatePDF(1500);">Remove Grid Line</mat-checkbox>

                                                <ng-container *ngIf="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex][htmlAdapter.selectedTableCellList[0].columnIndex].color!=null">
                                                    <div style="margin-bottom: 5px;"><b>Grid Line Color</b></div>
                                                    <div style="margin-bottom: 10px">
                                                        <input [colorPicker]="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex][htmlAdapter.selectedTableCellList[0].columnIndex].color"
                                                               (colorPickerChange)="htmlAdapter.handleTopBorder($event, 'color');updatePDF(2000)"
                                                               [cpOutputFormat]="'hex'"
                                                               [cpDialogDisplay]="'inline'"
                                                               [style.background]="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex][htmlAdapter.selectedTableCellList[0].columnIndex].color"/>
                                                    </div>
                                                </ng-container>
                                            </ng-container>
                                            <ng-container *ngIf="htmlAdapter.selectedBorder=='right'">

                                                <customized-number-input
                                                        [placeHolder]="'Thickness (in mm)'"
                                                        [minimum]="0"
                                                        [maximum]="5"
                                                        [maximumDecimal]="3"
                                                        [inputValue]="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex+1][htmlAdapter.selectedTableCellList[0].rowIndex].width"
                                                        (outputValue)="htmlAdapter.handleRightBorder($event, 'width');updatePDF()">
                                                </customized-number-input>

                                                <mat-checkbox [ngModel]="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex+1][htmlAdapter.selectedTableCellList[0].rowIndex].color==null"
                                                              (ngModelChange)="htmlAdapter.handleRightBorder($event ? null : '#000000', 'color'); updatePDF(1500);">Remove Grid Line</mat-checkbox>

                                                <ng-container *ngIf="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex+1][htmlAdapter.selectedTableCellList[0].rowIndex].color!=null">
                                                    <div style="margin-bottom: 5px;"><b>Grid Line Color</b></div>
                                                    <div style="margin-bottom: 10px">
                                                        <input [colorPicker]="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex+1][htmlAdapter.selectedTableCellList[0].rowIndex].color"
                                                               (colorPickerChange)="htmlAdapter.handleRightBorder($event, 'color');updatePDF(2000)"
                                                               [cpOutputFormat]="'hex'"
                                                               [cpDialogDisplay]="'inline'"
                                                               [style.background]="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex+1][htmlAdapter.selectedTableCellList[0].rowIndex].color"/>
                                                    </div>
                                                </ng-container>

                                            </ng-container>
                                            <ng-container *ngIf="htmlAdapter.selectedBorder=='bottom'">

                                                <customized-number-input
                                                        [placeHolder]="'Thickness (in mm)'"
                                                        [minimum]="0"
                                                        [maximum]="5"
                                                        [maximumDecimal]="3"
                                                        [inputValue]="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex+1][htmlAdapter.selectedTableCellList[0].columnIndex].width"
                                                        (outputValue)="htmlAdapter.handleBottomBorder($event, 'width');updatePDF()">
                                                </customized-number-input>

                                                <mat-checkbox [ngModel]="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex+1][htmlAdapter.selectedTableCellList[0].columnIndex].color==null"
                                                              (ngModelChange)="htmlAdapter.handleBottomBorder($event ? null : '#000000', 'color'); updatePDF(1500);">Remove Grid Line</mat-checkbox>

                                                <ng-container *ngIf="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex+1][htmlAdapter.selectedTableCellList[0].columnIndex].color!=null">
                                                    <div style="margin-bottom: 5px;"><b>Grid Line Color</b></div>
                                                    <div style="margin-bottom: 10px">
                                                        <input [colorPicker]="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex+1][htmlAdapter.selectedTableCellList[0].columnIndex].color"
                                                               (colorPickerChange)="htmlAdapter.handleBottomBorder($event, 'color');updatePDF(2000)"
                                                               [cpOutputFormat]="'hex'"
                                                               [cpDialogDisplay]="'inline'"
                                                               [style.background]="currentUserHandle.horizontalLineList[htmlAdapter.selectedTableCellList[0].rowIndex+1][htmlAdapter.selectedTableCellList[0].columnIndex].color"/>
                                                    </div>
                                                </ng-container>

                                            </ng-container>
                                            <ng-container *ngIf="htmlAdapter.selectedBorder=='left'">

                                                <customized-number-input
                                                        [placeHolder]="'Thickness (in mm)'"
                                                        [minimum]="0"
                                                        [maximum]="5"
                                                        [maximumDecimal]="3"
                                                        [inputValue]="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex][htmlAdapter.selectedTableCellList[0].rowIndex].width"
                                                        (outputValue)="htmlAdapter.handleLeftBorder($event, 'width');updatePDF()">
                                                </customized-number-input>

                                                <mat-checkbox [ngModel]="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex][htmlAdapter.selectedTableCellList[0].rowIndex].color==null"
                                                              (ngModelChange)="htmlAdapter.handleLeftBorder($event ? null : '#000000', 'color'); updatePDF(1500);">Remove Grid Line</mat-checkbox>

                                                <ng-container *ngIf="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex][htmlAdapter.selectedTableCellList[0].rowIndex].color!=null">
                                                    <div style="margin-bottom: 5px;"><b>Grid Line Color</b></div>
                                                    <div style="margin-bottom: 10px">
                                                        <input [colorPicker]="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex][htmlAdapter.selectedTableCellList[0].rowIndex].color"
                                                               (colorPickerChange)="htmlAdapter.handleLeftBorder($event, 'color');updatePDF(2000)"
                                                               [cpOutputFormat]="'hex'"
                                                               [cpDialogDisplay]="'inline'"
                                                               [style.background]="currentUserHandle.verticalLineList[htmlAdapter.selectedTableCellList[0].columnIndex][htmlAdapter.selectedTableCellList[0].rowIndex].color"/>
                                                    </div>
                                                </ng-container>

                                            </ng-container>
                                        </div>
                                    </div>
                                    <!-- EOF Borders -->

                                </ng-container>
                                <!-- EOF If one or more table cell/s are selected -->

                                <div style="margin-bottom: 10px"></div>

                                <div style="margin-bottom: 10px"></div>

                            </div>
                            <!-- EOF Table -->

                            <!-- Grading -->
                            <div *ngIf="getParameter(currentUserHandle.key).dataType===dataTypes.GRADING">

                                <mat-form-field style="width: 100%;">
                                    <mat-label>
                                        Type Grading Rule Name
                                    </mat-label>
                                    <input matInput
                                           type="text"
                                           [ngModel]="currentUserHandle.name" (ngModelChange)="currentUserHandle.name=$event;updatePDF();"/>
                                </mat-form-field>

                                <div style="border: 1px solid black; width: 50%; margin-top:10px; margin-bottom: 10px;"></div>

                                <ng-container *ngFor="let marksToGradeRuleObject of currentUserHandle.marksToGradeRuleList; let i=index;">
                                    {{(i+1)}}. &nbsp;
                                    <customized-number-input
                                            [placeHolder]="''"
                                            [width]="10"
                                            [minimum]="0"
                                            [maximum]="5000"
                                            [maximumDecimal]="3"
                                            [inputValue]="marksToGradeRuleObject.upperMarks"
                                            (outputValue)="marksToGradeRuleObject.upperMarks=$event;updatePDF(20000)">
                                    </customized-number-input> &nbsp;
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            (click)="marksToGradeRuleObject.upperInclusion=!marksToGradeRuleObject.upperInclusion">
                                        <ng-container *ngIf="marksToGradeRuleObject.upperInclusion">=&gt;</ng-container>
                                        <ng-container *ngIf="!marksToGradeRuleObject.upperInclusion">&nbsp;&gt;</ng-container>
                                    </button> &nbsp;
                                    Marks &nbsp;
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            (click)="marksToGradeRuleObject.lowerInclusion=!marksToGradeRuleObject.lowerInclusion">
                                        <ng-container *ngIf="marksToGradeRuleObject.lowerInclusion">=&gt;</ng-container>
                                        <ng-container *ngIf="!marksToGradeRuleObject.lowerInclusion">&nbsp;&gt;</ng-container>
                                    </button> &nbsp;
                                    <customized-number-input
                                            [placeHolder]="''"
                                            [width]="10"
                                            [minimum]="0"
                                            [maximum]="5000"
                                            [maximumDecimal]="3"
                                            [inputValue]="marksToGradeRuleObject.lowerMarks"
                                            (outputValue)="marksToGradeRuleObject.lowerMarks=$event;updatePDF(20000)">
                                    </customized-number-input> &nbsp;
                                    <mat-form-field style="width: 10%;">
                                        <mat-label></mat-label>
                                        <input matInput
                                               type="text"
                                               [ngModel]="marksToGradeRuleObject.gradeValue"
                                               (ngModelChange)="marksToGradeRuleObject.gradeValue=$event;updatePDF(20000);"/>
                                    </mat-form-field> &nbsp;
                                    <button type="button"
                                            class="btn"
                                            style="padding: 4px 7px;"
                                            (click)="htmlAdapter.deleteMarksToGradeRule(i);">
                                        Del
                                    </button>
                                    <br/>
                                </ng-container>

                                <button type="button"
                                        class="btn"
                                        style="padding: 4px 7px;"
                                        (click)="htmlAdapter.addMarksToGradeRule();">
                                    Add
                                </button>

                            </div>
                            <!-- EOF Grading -->

                        </div>
                        <!-- EOF If a user handle is selected -->

                    </mat-expansion-panel>

                    <!-- Button Create/Update/Delete -->
                    <div>
                        <button type="button"
                                class="btn btn-{{user.activeSchool.secondaryThemeColor}}"
                                style="padding: 12px 15px; margin-right: 17px;"
                                *ngIf="currentLayout.name && doesCurrentLayoutHasUniqueName() && currentLayout.id == -1"
                                (click)="serviceAdapter.createLayout();">
                            Save
                        </button>
                        <button type="button"
                                class="btn btn-{{user.activeSchool.secondaryThemeColor}}"
                                style="padding: 12px 15px; margin-right: 17px;"
                                *ngIf="currentLayout.name && doesCurrentLayoutHasUniqueName() && currentLayout.id != -1"
                                (click)="serviceAdapter.updateLayout();">
                            Update
                        </button>
                        <button type="button"
                                class="btn btn-{{user.activeSchool.secondaryThemeColor}}"
                                style="padding: 12px 15px; margin-right: 17px;"
                                *ngIf="currentLayout.id != -1"
                                (click)="serviceAdapter.deleteLayout();">
                            Delete
                        </button>
                    </div>
                    <!-- EOF Button Create/Update/Delete -->

                </ng-container>

            </div>

            <div class="col-xs-6" *ngIf="currentLayout && currentLayout.content.length" style="height: 100%; display: flex; justify-content: center;">

                <!-- Preview -->
                <embed id="iFrameDisplay"
                       type='application/pdf'
                       style="width: 55vh;">
                <!-- EOF Preview -->

            </div>

        </div>

        <img style='display: none'
             id='defaultBackground'
             crossorigin="anonymous"
             src='https://korangleplus.s3.amazonaws.com/assets/img/marksheet-background.jpg' />

    </ng-container>
    <!-- EOF Page -->

    <!-- Loading Spinner -->
    <ng-container *ngIf="isLoading" style="height: 100%; display: flex; justify-content: center">
        <app-loading-spinner [user]="user"></app-loading-spinner>
    </ng-container>
    <!-- EOF Loading Spinner -->

</div>
