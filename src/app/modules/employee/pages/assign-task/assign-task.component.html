<div class="card-content">

    <ng-container>

        <app-employee-filter [user]="user"
                             (employee)="getEmployeePermissionList($event)"></app-employee-filter>

        <ng-container *ngIf="selectedEmployee && !isLoading">

            <span style="font-weight: 800; font-size: 20px">{{selectedEmployee.name}}</span><br/>

            <ng-container *ngFor="let module of moduleList">
                <span style="font-weight: 800">{{module.title}}</span><br/>
                <ng-container *ngFor="let task of module.taskList">
                    <mat-checkbox [ngModel]="task.employeePermissionId !== null"
                                  (ngModelChange)="updateEmployeePermission(task)"
                                  [disabled]="isDisabled(module,task)">
                        {{task.title}}
                        <br/>
                    </mat-checkbox>
                    <div *ngIf="task.permissionLoading" class="loader-custom"></div>
                    <br/>
                </ng-container>
            </ng-container>

        </ng-container>

    </ng-container>

</div>

<ng-container *ngIf="isLoading">
    <app-loading-spinner [user]="user"></app-loading-spinner>
</ng-container>
