<div class="card-content">

    <div class="row">
        <div class="col-md-3">
            <div class="form-group form-black label-floating">
                <label class="control-label">Start Date</label>
                <input type="date" class="form-control" [(ngModel)]="startDate">
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group form-black label-floating">
                <label class="control-label">End Date</label>
                <input type="date" class="form-control" [(ngModel)]="endDate">
            </div>
        </div>
        <div class="col-md-3">
            <button type="button"
                    class="btn btn-{{user.activeSchool.secondaryThemeColor}}"
                    style="padding: 12px 15px"
                    matTooltip="Get all the receipts b/w start and end date"
                    tooltip-position="right"
                    (click)="getSMSList();">
                <i class="material-icons">search</i>
            </button><br>
        </div>
    </div>

    <ng-container *ngIf="!isLoading && smsList">

        <ng-container *ngIf="smsList.length>0">

            <div class="row">
                <div class="col-md-12">
                    <table class="table table-hover">
                        <thead class="text-{{user.activeSchool.secondaryThemeColor}}">
                        <tr>
                            <th>S No.</th>
                            <th class="text-right">Count</th>
                            <th class="text-center">Date</th>
                            <th class="text-center">Message</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let sms of smsList; let i = index;" style="padding: 0px;">
                            <td>{{i+1}}</td>
                            <td style="padding-right: 15px;" align="right">{{sms.count}}</td>
                            <td align="center">{{sms.sentDateTime | date: 'dd - MMM - yyyy'}}</td>
                            <td align="left" style="white-space: pre-line;">
                                {{sms.content}}
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </ng-container>

        <ng-container *ngIf="smsList.length==0">
            No SMS sent b/w {{startDate | date: 'dd - MMM - yyyy'}} to {{endDate | date: 'dd - MMM - yyyy'}}
        </ng-container>

    </ng-container>

</div>

<ng-container *ngIf="isLoading">
    <app-loading-spinner [user]="user"></app-loading-spinner>
</ng-container>
