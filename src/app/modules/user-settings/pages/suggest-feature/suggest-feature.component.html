<div class="card-content">

    <ng-container *ngIf="!isLoading">

        <div class="row">
            <div class="col-md-4">
                <mat-form-field style="width: 100%;">
                    <mat-label>Title (required)</mat-label>
                    <input matInput
                           type="text"
                           [(ngModel)]="currentFeature.title">
                </mat-form-field>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <mat-form-field  style="width: 100%;">
                    <mat-label>{{whyQuestion}} (required)</mat-label>
                    <textarea matInput
                              type="text"
                              rows="4"
                              [(ngModel)]="currentFeature.why">
                    </textarea>
                </mat-form-field>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <mat-form-field  style="width: 100%;">
                    <mat-label>{{howQuestion}}</mat-label>
                    <textarea matInput
                              type="text"
                              rows="4"
                              [(ngModel)]="currentFeature.how">
                    </textarea>
                </mat-form-field>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <mat-form-field  style="width: 100%;">
                    <mat-label>{{whatQuestion}} (required)</mat-label>
                    <textarea matInput
                              type="text"
                              rows="4"
                              [(ngModel)]="currentFeature.what">
                    </textarea>
                </mat-form-field>
            </div>
        </div>

        <button type="submit"
                class="btn btn-{{user.activeSchool.secondaryThemeColor}}"
                (click)="serviceAdapter.createFeature()">Submit</button>

    </ng-container>

    <mat-accordion *ngIf="featureList.length > 0" displayMode="flat" class="mat-table hidden-sm hidden-xs">

        <mat-expansion-panel *ngFor="let feature of featureList; let i=index;">

            <mat-expansion-panel-header class="mat-row">
                {{i+1}}. {{feature.title}}
            </mat-expansion-panel-header>

            <div class="row">
                <div class="col-md-12" style="white-space: pre-line;">
                    Q: {{whyQuestion}}<br>
                    A: {{feature.why}}
                </div>
            </div>

            <div class="row" *ngIf="feature.how && feature.how!=''">
                <div class="col-md-12" style="white-space: pre-line;">
                    Q: {{howQuestion}}<br>
                    A: {{feature.how}}
                </div>
            </div>

            <div class="row">
                <div class="col-md-12" style="white-space: pre-line;">
                    Q: {{whatQuestion}}<br>
                    A: {{feature.what}}
                </div>
            </div>

            <!-- Photo -->

            <!-- Delete -->
            <button type="submit"
                    class="btn btn-{{user.activeSchool.secondaryThemeColor}}"
                    (click)="serviceAdapter.deleteFeature(feature)">Delete</button>

        </mat-expansion-panel>

    </mat-accordion>

</div>

<ng-container *ngIf="isLoading">
    <app-loading-spinner [user]="user"></app-loading-spinner>
</ng-container>

