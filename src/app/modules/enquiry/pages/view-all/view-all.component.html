<div class="card-content table-responsive">

    <div class="row">
        <div class="col-md-3">
            <div class="form-group form-black label-floating">
                <label class="control-label">Start Date</label>
                <input type="date" class="form-control" [(ngModel)]="startDate">
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group form-black label-floating">
                <label class="control-label">End Date</label>
                <input type="date" class="form-control" [(ngModel)]="endDate">
            </div>
        </div>
        <div class="col-md-3">
            <button type="button"
                    class="btn btn-{{user.activeSchool.secondaryThemeColor}}"
                    style="padding: 12px 15px"
                    matTooltip="Get all the enquiries b/w start and end date"
                    tooltip-position="right"
                    (click)="getEnquiryList();">
                <i class="material-icons">search</i></button><br>
        </div>
    </div>

    <i>
        Displaying {{enquiryList.length}}
        <span *ngIf="enquiryList.length<=1">enquiry</span>
        <span *ngIf="enquiryList.length>1">enquiries</span>
    </i>

    <!-- Enquiry Table List -->
    <ng-container *ngIf="!isLoading">
        <table class="table table-hover">
            <thead class="text-{{user.activeSchool.secondaryThemeColor}}">
            <tr>
                <th>S No.</th>
                <th>Enquiry Date</th>
                <th>Enquirer's Name</th>
                <th>Mobile No.</th>
                <th>Student's Name</th>
                <th>Class</th>
                <th>Address</th>
                <th>Remark</th>
            </tr>
            </thead>
            <tbody>
            <ng-container *ngFor="let enquiry of enquiryList; let i = index">
                <tr>
                    <ng-container>
                        <td>{{i+1}}.</td>
                        <td>{{enquiry.dateOfEnquiry | date: 'dd - MMM - yyyy'}}</td>
                        <td>{{enquiry.enquirerName}}</td>
                        <td >
                            <span class="hidden-xs hidden-sm">{{enquiry.mobileNumber}}</span>
                            <a   *ngIf="enquiry.mobileNumber" class="visible-xs visible-sm" href="tel:{{enquiry.mobileNumber}}">Call Me</a>
                        </td>
                        <td>{{enquiry.studentName}}</td>
                        <td>{{getClassName(enquiry.parentClass)}}</td>
                        <td>{{enquiry.address}}</td>
                        <td>{{enquiry.remark}}</td>
                    </ng-container>
                </tr>
            </ng-container>
            </tbody>
        </table>
    </ng-container>

</div>

<ng-container *ngIf="isLoading">
    <app-loading-spinner [user]="user"></app-loading-spinner>
</ng-container>

