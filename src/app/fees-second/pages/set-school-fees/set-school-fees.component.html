<div class="main-content">
    <div class="container-fluid">

        <div class="card" style="min-height: 100%">
            <div class="card-header" [attr.data-background-color]="user.color">
                <h4 class="title">Set School Fees</h4>
            </div>
            <div class="card-content">

                <ng-container *ngIf="feeTypeList">

                    FeeType:
                    <select [ngModel]="selectedFeeType"
                            (ngModelChange)="selectedFeeType=$event;handleSelectedFeeTypeChange();"
                            style="margin-right: 15px; margin-bottom: 10px;">
                        <option *ngFor = "let feeType of feeTypeList;" [ngValue]="feeType">
                            {{feeType.name}}
                        </option>
                    </select>

                    <ng-container *ngIf="currentFeeDefinition">
                        <div class="row">
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select placeholder="Filter Type"
                                                [ngModel]="currentFeeDefinition.filterType"
                                                (ngModelChange)="currentFeeDefinition.filterType=$event">
                                        <mat-option *ngFor="let filterType of filterTypeList" [value]="filterType">
                                            {{filterType}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select placeholder="Fee Interval"
                                                [ngModel]="currentFeeDefinition.frequency"
                                                (ngModelChange)="currentFeeDefinition.frequency=$event">
                                        <mat-option *ngFor="let frequency of frequencyList" [value]="frequency">
                                            {{frequency}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-checkbox class="checkbox-margin" [(ngModel)]="currentFeeDefinition.rte">RTE</mat-checkbox>
                            </div>
                        </div>
                        <div class="row" *ngIf="currentFeeDefinition.frequency=='YEARLY' && currentFeeDefinition.filterType=='NONE'">
                            <div class="col-md-3">
                                Amount: <input type="number" min="0" [(ngModel)]="currentFeeDefinition.amount" />
                            </div>
                        </div>
                    </ng-container>


                </ng-container>

            </div>
        </div>

        <ng-container *ngIf="isLoading || isListLoading">
            <app-loading-spinner [user]="user"></app-loading-spinner>
        </ng-container>

    </div>
</div>
