<div class="main-content">
    <div class="container-fluid">

        <div class="row">

            <div class="col-md-5">
                <div class="card" style="min-height: 90vh">
                    <div class="card-header" [attr.data-background-color]="user.color">
                        <h4 class="title">From:-</h4>
                    </div>
                    <div class="card-content">

                        <ng-container *ngIf="!isListLoading">

                            <select [ngModel]="fromSession"
                                    (ngModelChange)="onChangeFromSession($event)"
                                    style="margin-right: 15px">
                                <ng-container>
                                    <option *ngFor = "let session of sessionList;" [ngValue]="session">{{session.name}}</option>
                                </ng-container>
                            </select>

                            <select [(ngModel)]="fromClass"
                                    style="margin-right: 15px">
                                <ng-container *ngIf="fromClass">
                                    <option *ngFor="let class of fromSession.classList" [ngValue] = "class">{{class.name}}</option>
                                </ng-container>
                            </select>

                            <button type="button"
                                    class="btn btn-{{user.btn_color}}"
                                    style="padding: 3px 8px;"
                                    [disabled]="!fromClass"
                                    (click)="getStudentList(fromSession,fromClass);">Get</button>

                            <ng-container *ngIf="!isLoading">
                                <ng-container *ngIf="fromClass && fromClass.studentList.length>0">
                                    <button class="btn"
                                            style="padding: 4px 7px"
                                            (click)="selectAllStudents(fromClass); $event.stopPropagation();">Select All</button>
                                    <button class="btn"
                                            style="padding: 4px 7px"
                                            (click)="unselectAllStudents(fromClass); $event.stopPropagation();">Clear All</button>
                                    <!-- ng-container *ngFor="let student of fromClass.studentList">
                                        <br/><mat-checkbox [(ngModel)]="student.checked">{{student.name}}</mat-checkbox>
                                    </ng-container -->
                                    <table class="table table-hover">
                                        <thead style="font-weight: 400">
                                        <tr>
                                            <th>-</th>
                                            <th>Name</th>
                                            <th>Scholar No.</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let student of fromClass.studentList">
                                            <td><mat-checkbox [(ngModel)]="student.checked"></mat-checkbox></td>
                                            <td>{{student.name}}</td>
                                            <td>{{student.scholarNumber}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </ng-container>
                            </ng-container><!-- ng-container *ngIf="!isLoading" -->

                        </ng-container><!-- ng-container *ngIf="!isListLoading" -->

                    </div>
                </div>
            </div>

            <div class="col-md-1" align="center" style="height: 100vh">
                <button type="button"
                        class="btn btn-{{user.btn_color}}"
                        style="padding: 3px 8px; margin-top: 50vh;"
                        [disabled]="!toClass"
                        (click)="promoteStudentList();"><i class="material-icons">trending_flat</i></button>
            </div>

            <div class="col-md-5">
                <div class="card" style="min-height: 90vh">
                    <div class="card-header" [attr.data-background-color]="user.color">
                        <h4 class="title">To:-</h4>
                    </div>
                    <div class="card-content">

                        <ng-container *ngIf="!isListLoading">

                            <select [ngModel]="toSession"
                                    (ngModelChange)="onChangeToSession($event)"
                                    style="margin-right: 15px">
                                <ng-container>
                                    <option *ngFor = "let session of sessionList;" [ngValue]="session">{{session.name}}</option>
                                </ng-container>
                            </select>

                            <select [(ngModel)]="toClass"
                                    style="margin-right: 15px">
                                <ng-container *ngIf="toClass">
                                    <option *ngFor="let class of toSession.classList" [ngValue] = "class">{{class.name}}</option>
                                </ng-container>
                            </select>

                            <button type="button"
                                    class="btn btn-{{user.btn_color}}"
                                    style="padding: 3px 8px;"
                                    [disabled]="!toClass"
                                    (click)="getStudentList(toSession,toClass);">Get</button>

                            <ng-container *ngIf="!isLoading">
                                <ng-container *ngIf="toClass && toClass.studentList.length>0">
                                    <!-- ng-container *ngFor="let student of toClass.studentList">
                                        <br/><span>{{student.name}}</span>
                                    </ng-container -->
                                    <table class="table table-hover">
                                        <thead style="font-weight: 400">
                                        <tr>
                                            <th>-</th>
                                            <th>Name</th>
                                            <th>Scholar No.</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let student of toClass.studentList">
                                            <td><mat-checkbox [(ngModel)]="student.checked"></mat-checkbox></td>
                                            <td>{{student.name}}</td>
                                            <td>{{student.scholarNumber}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <button class="btn"
                                            style="padding: 4px 7px"
                                            (click)="selectAllStudents(toClass); $event.stopPropagation();">Select All</button>
                                    <button class="btn"
                                            style="padding: 4px 7px"
                                            (click)="unselectAllStudents(toClass); $event.stopPropagation();">Clear All</button><br/>
                                    <button class="btn btn-{{user.btn_color}}"
                                            style="padding: 12px 15px;"
                                            (click)="removeStudentList(); $event.stopPropagation();">
                                        Remove
                                        <i class="material-icons" style="margin-left: 15px;">delete_forever</i></button>
                                </ng-container>
                            </ng-container><!-- ng-container *ngIf="!isLoading" -->

                        </ng-container><!-- ng-container *ngIf="!isListLoading" -->

                    </div>
                </div>
            </div>

        </div>
        <ng-container *ngIf="isLoading || isListLoading">
            <app-loading-spinner [user]="user"></app-loading-spinner>
        </ng-container>

    </div>
</div>
