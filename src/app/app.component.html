<div class="wrapper hidePrint">

    <div *ngIf="user.isAuthenticated">

        <div class="sidebar" data-image="" style="position: fixed">
            <app-sidebar [user]="user"></app-sidebar>
            <div class="sidebar-background" style="background-image: url(../assets/img/sidebar-4.jpg)"></div>
        </div>

        <div class="main-panel">

            <app-navbar class="visible-xs"></app-navbar>

            <div class="main-content">
                <div class="container-fluid">

                    <div class="card"
                         *ngIf="user.activeModule"
                         style="min-height: 100%">
                        <div class="card-header" [attr.data-background-color]="user.activeSchool.primaryThemeColor">
                            <h4 class="title hidden-xs">{{user.activeModule.title}} - {{user.activeTask.title}}</h4>
                            <h4 class="title visible-xs">{{user.activeModule.title}}</h4>
                        </div>
                        <router-outlet></router-outlet>
                    </div>

                    <ng-container *ngIf="user.username && !user.activeSchool">
                        You are not attached to any of the schools yet!
                    </ng-container>

                    <mat-progress-bar *ngIf="user.isLazyLoading"  mode="indeterminate"></mat-progress-bar>

                    <!-- ng-container *ngIf="user.isPageLoading">
                        <app-loading-spinner [user]="user"></app-loading-spinner>
                    </ng-container -->

                </div>
            </div>

        </div>

    </div>

    <div *ngIf="!user.isAuthenticated" style="min-height: 100%;">
        <app-login-form [user]="user"></app-login-form>
    </div>

</div>
<!-- app-new-fee-receipt-modal [user]="user"></app-new-fee-receipt-modal -->
<div class="wrapper showPrint">
    <app-print [user]="user"></app-print>
</div>
